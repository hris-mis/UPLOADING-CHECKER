<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Schedule Conflict Checker ‚Äî Ready</title>
<!-- Tailwind CDN (per your choice) -->
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
<style>
body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
.container{max-width:1200px;margin:0 auto;padding:1rem;}
.table-fixed th, .table-fixed td{padding:0.5rem;border-bottom:1px solid rgba(0,0,0,0.06);}
.btn{padding:0.45rem 0.75rem;border-radius:0.5rem;}
.hidden{display:none;}
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:60;}
.modal{background:white;padding:1rem;border-radius:0.5rem;max-width:900px;width:95%;max-height:70vh;overflow:auto;}
.smallbtn{padding:0.25rem 0.5rem;border-radius:0.375rem;font-size:0.9rem;}
</style>
</head>
<body class="bg-slate-50 min-h-screen">
<div class="container">
  <header class="text-center my-6">
    <div class="inline-flex rounded-full bg-gradient-to-r from-sky-500 to-teal-400 p-1 shadow">
      <button id="tab-schedule" class="px-6 py-2 rounded-full bg-white text-slate-800 font-semibold">üóìÔ∏è Schedule Checker</button>
      <button id="tab-monitoring" class="px-6 py-2 rounded-full text-white font-semibold bg-slate-700 ml-2">üìä Monitoring</button>
    </div>
    <h1 class="text-2xl font-extrabold mt-4">Schedule Conflict Checker</h1>
  </header>

  <!-- Schedule tab content -->
  <section id="tab-schedule-content">
    <div class="grid md:grid-cols-2 gap-6">
      <div class="bg-white p-4 rounded shadow-sm">
        <div class="flex justify-between items-center mb-2">
          <h3 class="font-semibold">1. Paste Work Schedule Data</h3>
          <div class="flex items-center gap-2">
            <input id="workBranchName" placeholder="Branch Name" class="border px-2 py-1 rounded" />
            <button id="generateWorkFile" class="btn bg-sky-600 text-white">Generate</button>
          </div>
        </div>
        <textarea id="workScheduleInput" class="w-full border rounded p-2 h-44" placeholder="Paste work schedule here"></textarea>
        <div class="mt-3 overflow-auto bg-white rounded border">
          <table class="w-full table-fixed text-sm text-left">
            <thead class="bg-slate-50"><tr><th>Name</th><th>Emp No.</th><th>Work Date</th><th>Shift</th><th>Day</th><th>Position</th><th></th></tr></thead>
            <tbody id="workTableBody"></tbody>
          </table>
        </div>
      </div>

      <div class="bg-white p-4 rounded shadow-sm">
        <div class="flex justify-between items-center mb-2">
          <h3 class="font-semibold">2. Paste Rest Day Schedule Data</h3>
          <div class="flex items-center gap-2">
            <input id="restBranchName" placeholder="Branch Name" class="border px-2 py-1 rounded" />
            <button id="generateRestFile" class="btn bg-sky-600 text-white">Generate</button>
          </div>
        </div>
        <textarea id="restScheduleInput" class="w-full border rounded p-2 h-44" placeholder="Paste rest day schedule here"></textarea>
        <div class="mt-3 overflow-auto bg-white rounded border">
          <table class="w-full table-fixed text-sm text-left">
            <thead class="bg-slate-50"><tr><th>Conflict</th><th>Name</th><th>Emp No.</th><th>Rest Date</th><th>Day</th><th>Position</th><th></th></tr></thead>
            <tbody id="restTableBody"></tbody>
          </table>
        </div>
        <div id="summary" class="mt-3 p-2 text-center text-sm"></div>
      </div>
    </div>
  </section>

  <!-- Monitoring tab content -->
  <section id="tab-monitoring-content" class="hidden bg-white p-4 rounded shadow-sm">
    <h2 class="text-xl font-semibold mb-3">üìä Branch Monitoring Dashboard</h2>
    <div class="flex items-center gap-3 mb-3">
      <input id="monitorSearch" placeholder="Search branch..." class="border px-2 py-1 rounded flex-1" />
      <button id="addBranchBtn" class="btn bg-green-600 text-white">Add Branch</button>
      <button id="exportMonitoringBtn" class="btn bg-emerald-600 text-white">Export</button>
    </div>
    <div class="overflow-auto bg-white rounded border">
      <table class="w-full text-sm text-left">
        <thead class="bg-slate-50"><tr><th>Branch</th><th>Check</th><th>Upload</th><th>Uploaded By</th><th>Remarks</th><th>Actions</th></tr></thead>
        <tbody id="monitoringBody"></tbody>
      </table>
    </div>
    <p class="mt-3 text-sm">Total: <span id="totalBranches">0</span> | Checked: <span id="checkedBranches">0</span> | Uploaded: <span id="uploadedBranches">0</span> | <span id="progressPercent">0%</span></p>
  </section>

  <div id="warning-banner" class="hidden fixed top-4 left-1/2 -translate-x-1/2 bg-yellow-100 text-yellow-800 px-4 py-2 rounded shadow"></div>
  <div id="success-message" class="hidden fixed top-16 left-1/2 -translate-x-1/2 bg-green-100 text-green-800 px-4 py-2 rounded shadow">‚úÖ File generated!</div>
</div>

<!-- Rejected modal -->
<div id="rejectedModal" class="hidden modal-backdrop">
  <div class="modal">
    <div class="flex justify-between items-center mb-2">
      <h3 class="text-lg font-semibold">Rejected Rows</h3>
      <button class="modal-close smallbtn bg-red-500 text-white">Close</button>
    </div>
    <div class="modal-body" id="rejectedBody"></div>
  </div>
</div>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

<!-- App JS -->
<script src="assets/js/app.js"></script>
</body>
</html>
